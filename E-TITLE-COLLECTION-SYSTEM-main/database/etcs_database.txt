use etcs_database;
 
create table members(
member_id int AUTO_INCREMENT not null,
username varchar(30) not null,
password varchar(30) not null,
admin boolean not null,
datetime_join datetime default now(),
primary key (member_id)
);

create table dispatch(
dispatch_nric varchar(12) not null,
dispatch_name varchar(50) not null,
dispatch_phone_no varchar(11) not null,
organization_name varchar(50) not null,
primary key (dispatch_nric)
);

create table visit_purpose(
developer_name varchar(50) not null,
remarks varchar(100) not null,
dispatch_ic varchar(12) not null,
CONSTRAINT dispatch 
FOREIGN KEY (dispatch_ic) 
REFERENCES dispatch(dispatch_nric)
);

create table titles(
title_id int AUTO_INCREMENT not null,
title_name varchar(50) not null,
document_name varchar(50) not null,
date_collected datetime default now(),
primary key (title_id),
dispatch_ic varchar(12) not null,
CONSTRAINT dispatch2 
FOREIGN KEY (dispatch_ic) 
REFERENCES dispatch(dispatch_nric)
); 

create table report(
full_summary varchar(100) not null,
dispatch_ic varchar(12) not null,
CONSTRAINT dispatch3 
FOREIGN KEY (dispatch_ic) 
REFERENCES dispatch(dispatch_nric)
); 